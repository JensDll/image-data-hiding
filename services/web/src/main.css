@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    --border-color: theme(colors.gray.200);
    --background-color: theme(colors.gray.50);
    --text-color: theme(colors.gray.700);
    --heading-color: theme(colors.gray.900);

    --form-background-color: theme('colors.white');
    --form-border-color: var(--border-color);
    --form-error-color: theme('colors.red.500');
    --form-focus-border-color: theme('colors.encode.500');
    --form-focus-outline-color: theme('colors.encode.100');
  }

  html.decode {
    --form-focus-border-color: theme('colors.decode.500');
    --form-focus-outline-color: theme('colors.decode.100');
  }

  html.dark {
    --border-color: theme(colors.gray.800);
    --background-color: theme(colors.gray.900);
    --text-color: theme(colors.gray.200);
    --heading-color: theme(colors.gray.100);

    --form-background-color: theme('colors.slate.800');
    --form-focus-border-color: theme('colors.encode.600');
    --form-focus-outline-color: theme('colors.encode.900');
  }

  html.dark.decode {
    --form-focus-border-color: theme('colors.decode.600');
    --form-focus-outline-color: theme('colors.decode.900');
  }

  *,
  ::before,
  ::after {
    border-color: var(--border-color);
  }

  body {
    @apply font-sans;
    background-color: var(--background-color);
    color: var(--text-color);
  }

  #app {
    height: 100vh;
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
    grid-template-areas:
      'header'
      'main';
  }

  h1,
  h2,
  h3,
  h4 {
    color: var(--heading-color);
  }

  h1 {
    @apply text-4xl font-extrabold sm:text-5xl lg:text-6xl;
  }

  h2 {
    @apply text-3xl font-bold sm:text-4xl lg:text-5xl;
  }

  h3 {
    @apply text-2xl font-semibold sm:text-3xl lg:text-4xl;
  }

  h4 {
    @apply text-xl font-semibold  sm:text-2xl lg:text-3xl;
  }

  /* ----------------- Form styles ----------------- */

  .highlight {
    color: var(--form-focus-border-color);
  }

  label {
    @apply mb-1 block font-medium;
  }

  textarea {
    display: block;
  }

  [type='file'] {
    appearance: none;
    cursor: pointer;
    font-size: 0;
  }

  [type='password'] {
    @apply tracking-wider;
  }

  [type='radio'] {
    @apply shadow-sm;
    color: var(--form-focus-border-color);
    border-color: var(--form-border-color);
    background-color: var(--form-background-color);
  }

  [type='text'],
  [type='email'],
  [type='url'],
  [type='password'],
  [type='number'],
  [type='date'],
  [type='datetime-local'],
  [type='month'],
  [type='search'],
  [type='tel'],
  [type='time'],
  [type='week'],
  [type='checkbox'],
  [type='radio'] [multiple],
  textarea,
  select {
    @apply rounded-md;
    background-color: var(--form-background-color);
    border-color: var(--form-border-color);
  }

  .custom-file-input {
    @apply rounded-md border-2 border-dashed;
    background-color: var(--form-background-color);
    border-color: var(--form-border-color);
  }

  [type='text'].error,
  [type='email'].error,
  [type='url'].error,
  [type='password'].error,
  [type='number'].error,
  [type='date'].error,
  [type='datetime-local'].error,
  [type='month'].error,
  [type='search'].error,
  [type='tel'].error,
  [type='time'].error,
  [type='week'].error,
  [type='checkbox'].error,
  [type='radio'].error,
  [type='radio'] [multiple].error,
  textarea.error,
  select.error,
  .custom-file-input.error {
    --form-border-color: theme('colors.red.300');
    --form-focus-border-color: theme('colors.red.500');
    --form-focus-outline-color: theme('colors.red.100');
  }

  .dark [type='text'].error,
  .dark [type='email'].error,
  .dark [type='url'].error,
  .dark [type='password'].error,
  .dark [type='number'].error,
  .dark [type='date'].error,
  .dark [type='datetime-local'].error,
  .dark [type='month'].error,
  .dark [type='search'].error,
  .dark [type='tel'].error,
  .dark [type='time'].error,
  .dark [type='week'].error,
  .dark [type='checkbox'].error,
  .dark [type='radio'].error,
  .dark [type='radio'] [multiple].error,
  .dark textarea.error,
  .dark select.error,
  .dark .custom-file-input.error {
    --form-border-color: theme('colors.red.700');
    --form-focus-border-color: theme('colors.red.600');
    --form-focus-outline-color: theme('colors.red.900');
  }

  [type='text']:focus,
  [type='email']:focus,
  [type='url']:focus,
  [type='password']:focus,
  [type='number']:focus,
  [type='date']:focus,
  [type='datetime-local']:focus,
  [type='month']:focus,
  [type='search']:focus,
  [type='tel']:focus,
  [type='time']:focus,
  [type='week']:focus,
  [type='checkbox'],
  [type='radio']:focus,
  [type='radio'] [multiple]:focus,
  textarea:focus,
  select:focus,
  .custom-file-input:focus-within {
    @apply shadow-none outline outline-4 outline-offset-0 ring-0;
    border-color: var(--form-focus-border-color);
    outline-color: var(--form-focus-outline-color);
  }
}
